<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 8-Week Running & Strength Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A week-based carousel is the primary navigation. Each slide is a self-contained weekly dashboard showing goals and the daily schedule. This consolidates information, creating a focused, step-by-step user flow ("view this week, then move to the next"). Clicking a day still opens a modal for details, preserving drill-down functionality while simplifying the main interface. This is more intuitive than managing a separate slider and schedule view. -->
    <!-- Visualization & Content Choices: 1. Carousel: Replaces the slider for a more visual and direct week-to-week navigation (HTML/CSS/JS). 2. Consolidated Weekly View: Each slide combines the weekly goals and the 7-day schedule grid, removing the need for a separate goals section. 3. Pace Information: The separate pace chart is removed. Pace info is now presented contextually within the modal for each run, which is a more direct way to get task-specific information. 4. Strength Library: Remains as a tabbed section, as it's a reference library not tied to a specific week. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #333;
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .carousel-container {
            overflow: hidden;
            position: relative;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            min-width: 100%;
            box-sizing: border-box;
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <header class="text-center mb-8 md:mb-12">
            <h1 class="text-3xl md:text-5xl font-bold text-gray-800">Your 8-Week Training Plan</h1>
            <p class="text-lg md:text-xl text-gray-500 mt-2">To a Sub-25min 5k & Sub-60min 10k</p>
        </header>

        <main>
            <!-- Weekly Carousel Section -->
            <section id="carousel-section" class="mb-8 md:mb-12 bg-white p-6 rounded-xl shadow-sm">
                <div class="carousel-container">
                    <div id="carousel-track" class="carousel-track">
                        <!-- Carousel slides will be populated by JS -->
                    </div>
                </div>
                <div class="flex justify-between items-center mt-6">
                    <button id="prev-btn" class="bg-amber-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700 transition-colors disabled:bg-gray-300">
                        &#8592; Prev
                    </button>
                    <div id="carousel-dots" class="flex space-x-2">
                        <!-- Dots will be populated by JS -->
                    </div>
                    <button id="next-btn" class="bg-amber-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-700 transition-colors">
                        Next &#8594;
                    </button>
                </div>
            </section>
            
            <!-- Strength Training Library Section -->
            <section id="strength-library" class="bg-white p-6 rounded-xl shadow-sm">
                 <div class="text-center mb-6">
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Strength Training Library</h2>
                    <p class="text-gray-500 mt-1">Two different full-body workouts to build power and prevent injury.</p>
                </div>
                <div class="flex justify-center mb-6 border-b border-gray-200">
                    <button id="strengthA-tab" class="strength-tab-btn py-2 px-6 text-lg font-semibold border-b-2 border-amber-600 text-amber-600">Workout A</button>
                    <button id="strengthB-tab" class="strength-tab-btn py-2 px-6 text-lg font-semibold border-b-2 border-transparent text-gray-500">Workout B</button>
                </div>
                <div id="strength-content">
                    <!-- Strength exercises will be populated by JS -->
                </div>
            </section>

        </main>
    </div>

    <!-- Modal -->
    <div id="workout-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 opacity-0 pointer-events-none">
        <div id="modal-content" class="modal-content bg-white rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto transform scale-95">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 id="modal-title" class="text-2xl font-bold text-gray-800"></h3>
                        <p id="modal-day" class="text-amber-600 font-semibold"></p>
                    </div>
                    <button id="close-modal" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div id="modal-body" class="text-gray-600 space-y-4">
                    <!-- Modal content populated by JS -->
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const planData = {
                paceGuide: {
                    labels: ['Easy Run', 'Tempo Run', 'Interval (400m)', 'Long Run'],
                    displayPace: ['11:00-12:00', '9:30-10:00', '2:00-2:05/lap', '11:30-12:30']
                },
                strengthWorkouts: {
                    'A': [
                        { name: 'Goblet Squats', desc: 'Hold a weight at your chest. Squat down keeping your chest up and back straight.', sets: '2-3', reps: '10-15' },
                        { name: 'Walking Lunges', desc: 'Step forward into a lunge, then push off and step into the next lunge with the other leg.', sets: '2-3', reps: '10-15/leg' },
                        { name: 'Glute Bridges', desc: 'Lie on your back, knees bent. Lift hips until your body is in a straight line from shoulders to knees.', sets: '2-3', reps: '10-15' },
                        { name: 'Plank', desc: 'Hold a push-up position with a flat back and engaged core.', sets: '2-3', reps: '30-60s' },
                        { name: 'Calf Raises', desc: 'Stand on a flat surface and raise your heels up, then lower them back down.', sets: '2-3', reps: '10-15' },
                    ],
                    'B': [
                        { name: 'Single-Leg Deadlifts', desc: 'Stand on one leg, hinge at your hips, extending the other leg straight behind you.', sets: '2-3', reps: '10-15/leg' },
                        { name: 'Step-Ups', desc: 'Use a bench or sturdy chair. Step up with one foot, then the other. Alternate lead leg.', sets: '2-3', reps: '10-15/leg' },
                        { name: 'Push-ups', desc: 'Perform standard push-ups, or modified on your knees if needed.', sets: '2-3', reps: '10-15' },
                        { name: 'Dumbbell Rows', desc: 'Lean on a bench. Pull a dumbbell up towards your chest, keeping your elbow close.', sets: '2-3', reps: '10-15/arm' },
                        { name: 'Russian Twists', desc: 'Sit with knees bent, feet off the ground. Twist your torso from side to side.', sets: '2-3', reps: '10-15/side' },
                    ]
                },
                weeklyPlan: [
                    { intervalReps: 6, tempoMins: 20, longRunDist: 3.5 },
                    { intervalReps: 7, tempoMins: 25, longRunDist: 4.0 },
                    { intervalReps: 8, tempoMins: 30, longRunDist: 4.5 },
                    { intervalReps: 9, tempoMins: 35, longRunDist: 5.0 },
                    { intervalReps: 10, tempoMins: 40, longRunDist: 5.5 },
                    { intervalReps: 11, tempoMins: 40, longRunDist: 6.0 },
                    { intervalReps: 12, tempoMins: 30, longRunDist: 6.5 },
                    { intervalReps: 8, tempoMins: 20, longRunDist: 7.0 },
                ]
            };

            const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const workoutTypes = ['Interval Run', 'Strength A', 'Tempo Run', 'Strength B', 'Rest', 'Long Run', 'Rest'];
            const totalWeeks = planData.weeklyPlan.length;

            const carouselTrack = document.getElementById('carousel-track');
            const dotsContainer = document.getElementById('carousel-dots');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            const modal = document.getElementById('workout-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModalBtn = document.getElementById('close-modal');
            
            const strengthA_Tab = document.getElementById('strengthA-tab');
            const strengthB_Tab = document.getElementById('strengthB-tab');
            const strengthContentContainer = document.getElementById('strength-content');

            let currentWeekIndex = 0;

            function renderCarousel() {
                carouselTrack.innerHTML = '';
                dotsContainer.innerHTML = '';

                planData.weeklyPlan.forEach((weekData, index) => {
                    // Create Slide
                    const slide = document.createElement('div');
                    slide.className = 'carousel-slide p-2';
                    slide.innerHTML = `
                        <h2 class="text-2xl font-bold text-amber-700 mb-4 text-center">Week ${index + 1}</h2>
                        <div class="mb-6 grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                            <div class="bg-amber-50 p-3 rounded-lg"><p class="text-sm text-amber-800">Intervals</p><p class="font-bold text-xl">${weekData.intervalReps} x 400m</p></div>
                            <div class="bg-amber-50 p-3 rounded-lg"><p class="text-sm text-amber-800">Tempo</p><p class="font-bold text-xl">${weekData.tempoMins} mins</p></div>
                            <div class="bg-amber-50 p-3 rounded-lg"><p class="text-sm text-amber-800">Long Run</p><p class="font-bold text-xl">${weekData.longRunDist} miles</p></div>
                            <div class="bg-amber-50 p-3 rounded-lg"><p class="text-sm text-amber-800">Strength</p><p class="font-bold text-xl">2 sessions</p></div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-7 gap-4">
                            ${daysOfWeek.map((day, dayIndex) => {
                                const workoutType = workoutTypes[dayIndex];
                                const isRest = workoutType === 'Rest';
                                return `
                                <div class="p-4 rounded-lg shadow-sm cursor-pointer transition-transform transform hover:scale-105 ${isRest ? 'bg-gray-100' : 'bg-white'}" data-day-index="${dayIndex}" data-week-index="${index}">
                                    <p class="font-bold text-gray-500 text-sm">${day.toUpperCase()}</p>
                                    <h4 class="text-xl font-semibold mt-1 ${isRest ? 'text-gray-500' : 'text-amber-700'}">${workoutType}</h4>
                                </div>`;
                            }).join('')}
                        </div>
                    `;
                    carouselTrack.appendChild(slide);

                    // Create Dot
                    const dot = document.createElement('button');
                    dot.className = 'w-3 h-3 rounded-full transition-colors';
                    dot.dataset.index = index;
                    dotsContainer.appendChild(dot);
                });
            }

            function updateCarousel() {
                const slideWidth = carouselTrack.querySelector('.carousel-slide').clientWidth;
                carouselTrack.style.transform = `translateX(-${currentWeekIndex * slideWidth}px)`;

                // Update dots
                const dots = dotsContainer.querySelectorAll('button');
                dots.forEach((dot, index) => {
                    dot.className = `w-3 h-3 rounded-full transition-colors ${index === currentWeekIndex ? 'bg-amber-600' : 'bg-gray-300'}`;
                });

                // Update buttons
                prevBtn.disabled = currentWeekIndex === 0;
                nextBtn.disabled = currentWeekIndex === totalWeeks - 1;
            }

            function renderStrengthContent(type) {
                const exercises = planData.strengthWorkouts[type];
                strengthContentContainer.innerHTML = `
                    <ul class="space-y-4">
                        ${exercises.map(ex => `
                            <li class="p-4 border border-gray-200 rounded-lg">
                                <div class="flex justify-between items-center">
                                    <h5 class="font-bold text-lg text-gray-800">${ex.name}</h5>
                                    <span class="text-sm font-semibold text-amber-600 bg-amber-100 py-1 px-2 rounded">${ex.sets} sets of ${ex.reps}</span>
                                </div>
                                <p class="text-gray-600 mt-1">${ex.desc}</p>
                            </li>
                        `).join('')}
                    </ul>
                `;
            }

            function showModal(dayIndex, weekIndex) {
                const day = daysOfWeek[dayIndex];
                const workoutType = workoutTypes[dayIndex];
                const weekData = planData.weeklyPlan[weekIndex];

                document.getElementById('modal-title').textContent = workoutType;
                document.getElementById('modal-day').textContent = `${day}, Week ${weekIndex + 1}`;
                const modalBody = document.getElementById('modal-body');
                
                let content = '';
                if (workoutType === 'Interval Run') {
                    content = `
                        <div class="space-y-3">
                            <div><strong class="text-gray-700">Warm-up:</strong> 10-15 minutes of easy jogging.</div>
                            <div><strong class="text-gray-700">Workout:</strong> ${weekData.intervalReps} x 400 meters at goal 5k pace.</div>
                            <div><strong class="text-gray-700">Target Pace:</strong> ${planData.paceGuide.displayPace[2]}.</div>
                            <div><strong class="text-gray-700">Recovery:</strong> 400 meters of slow jogging or walking between each interval.</div>
                            <div><strong class="text-gray-700">Cool-down:</strong> 10-15 minutes of easy jogging.</div>
                        </div>`;
                } else if (workoutType === 'Tempo Run') {
                     content = `
                        <div class="space-y-3">
                            <div><strong class="text-gray-700">Warm-up:</strong> 10 minutes of easy jogging.</div>
                            <div><strong class="text-gray-700">Workout:</strong> Run for ${weekData.tempoMins} minutes at a tempo pace.</div>
                            <div><strong class="text-gray-700">Target Pace:</strong> ${planData.paceGuide.displayPace[1]} min/mile. Should feel "comfortably hard".</div>
                            <div><strong class="text-gray-700">Cool-down:</strong> 10 minutes of easy jogging.</div>
                        </div>`;
                } else if (workoutType === 'Long Run') {
                     content = `
                        <div class="space-y-3">
                            <div><strong class="text-gray-700">Workout:</strong> Run for ${weekData.longRunDist} miles.</div>
                            <div><strong class="text-gray-700">Target Pace:</strong> ${planData.paceGuide.displayPace[0]} or ${planData.paceGuide.displayPace[3]} min/mile. Keep it easy and conversational.</div>
                            <div><strong class="text-gray-700">Purpose:</strong> Build endurance. The goal is to cover the distance, not to run it fast.</div>
                        </div>`;
                } else if (workoutType.startsWith('Strength')) {
                    const type = workoutType.endsWith('A') ? 'A' : 'B';
                    const exercises = planData.strengthWorkouts[type];
                    content = `
                        <p>Perform 2-3 sets of 10-15 repetitions for each exercise unless noted.</p>
                        <ul class="space-y-3 pt-2">
                            ${exercises.map(ex => `
                                <li class="border-t border-gray-200 pt-3">
                                    <strong class="text-gray-700">${ex.name}</strong>
                                    <p class="text-sm">${ex.desc}</p>
                                </li>
                            `).join('')}
                        </ul>`;
                } else { // Rest
                    content = `<p>Rest is crucial for recovery and muscle repair. You can do some light activity like walking or stretching, but avoid strenuous exercise.</p>`;
                }

                modalBody.innerHTML = content;
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modalContent.classList.remove('scale-95');
            }

            function hideModal() {
                modal.classList.add('opacity-0', 'pointer-events-none');
                modalContent.classList.add('scale-95');
            }
            
            // Event Listeners
            prevBtn.addEventListener('click', () => {
                if (currentWeekIndex > 0) {
                    currentWeekIndex--;
                    updateCarousel();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentWeekIndex < totalWeeks - 1) {
                    currentWeekIndex++;
                    updateCarousel();
                }
            });

            dotsContainer.addEventListener('click', (e) => {
                if(e.target.tagName === 'BUTTON') {
                    currentWeekIndex = parseInt(e.target.dataset.index);
                    updateCarousel();
                }
            });

            carouselTrack.addEventListener('click', (e) => {
                const card = e.target.closest('[data-day-index]');
                if (card) {
                    const dayIndex = parseInt(card.dataset.dayIndex);
                    const weekIndex = parseInt(card.dataset.weekIndex);
                    showModal(dayIndex, weekIndex);
                }
            });

            closeModalBtn.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal();
                }
            });
            
            strengthA_Tab.addEventListener('click', () => {
                renderStrengthContent('A');
                strengthA_Tab.classList.add('border-amber-600', 'text-amber-600');
                strengthA_Tab.classList.remove('border-transparent', 'text-gray-500');
                strengthB_Tab.classList.add('border-transparent', 'text-gray-500');
                strengthB_Tab.classList.remove('border-amber-600', 'text-amber-600');
            });
            
            strengthB_Tab.addEventListener('click', () => {
                renderStrengthContent('B');
                strengthB_Tab.classList.add('border-amber-600', 'text-amber-600');
                strengthB_Tab.classList.remove('border-transparent', 'text-gray-500');
                strengthA_Tab.classList.add('border-transparent', 'text-gray-500');
                strengthA_Tab.classList.remove('border-amber-600', 'text-amber-600');
            });

            // Initial render
            renderCarousel();
            updateCarousel();
            renderStrengthContent('A');
            window.addEventListener('resize', updateCarousel);
        });
    </script>
</body>
</html>
